/* Ephox PowerPaste plugin
 *
 * Copyright 2010-2012 Ephox Corporation.  All rights reserved.
 *
 * Version: 1.0.1.4
 */
(function(){if(this.ephox){var c=this.ephox.bolt}var b={};var e=function(n){var l=a(n);var j=n.split(".");var m=Function("return this;")();for(var k=0;k<j.length-1;++k){if(m[j[k]]===undefined){m[j[k]]={}}m=m[j[k]]}m[j[j.length-1]]=l};var d=function(n){var l=b[n].dependencies;var k=b[n].definition;var m=[];for(var j=0;j<l.length;++j){m.push(a(l[j]))}b[n].instance=k.apply(null,m);if(b[n]===undefined){throw"required module ["+n+"] could not be defined (definition function returned undefined)"}};var g=function(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===undefined){throw"invalid module definition, dependencies must be specified"}if(i===undefined){throw"invalid module definition, definition function must be specified"}b[k]={dependencies:j,definition:i,instance:undefined}};var a=function(i){if(b[i]===undefined){throw"required module ["+i+"] is not defined"}if(b[i].instance===undefined){d(i)}return b[i].instance};var f=function(k,m){var l=[];for(var j=0;j<k.length;++j){l.push(a(k[j]))}m.apply(null,m)};var h=this.ephox||{};h.bolt={module:{api:{define:g,require:f,demand:a}}};(function(k,j,i){k("ephox.powerpaste.tinymce.Util",[],function(){var n=function(p,o){return function(){return p.apply(o,arguments)}};var m=function(o){if(o.ownerDocument.defaultView){return o.ownerDocument.defaultView.getComputedStyle(o,null)}return o.currentStyle||{}};var l=function(o){if(typeof(console)!=="undefined"&&console.log){console.log(o)}};return{each:tinymce.each,trim:tinymce.trim,bind:n,ephoxGetComputedStyle:m,log:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.tinymce.Clipboard",["ephox.powerpaste.tinymce.Util"],function(p){var o=tinymce.each;var n=function(y,A,z){var t,w,r,s=y.selection,v=y.dom,x=y.getBody(),q;if(z.clipboardData&&z.clipboardData.getData("text/html")){z.preventDefault();A(z.clipboardData.getData("text/html").match(/<html[\s\S]+<\/html>/i)[0]);return}if(v.get("_mcePaste")){return}t=v.add(x,"div",{id:"_mcePaste","class":"mcePaste"},'\uFEFF<br _mce_bogus="1">');if(x!=y.getDoc().body){q=v.getPos(y.selection.getStart(),x).y}else{q=x.scrollTop}v.setStyles(t,{position:"absolute",left:-10000,top:q,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){r=v.doc.body.createTextRange();r.moveToElementText(t);r.execCommand("Paste");v.remove(t);if(t.innerHTML==="\uFEFF"){y.execCommand("mcePasteWord");z.preventDefault();return}A(t.innerHTML);return tinymce.dom.Event.cancel(z)}else{var u=function(B){B.preventDefault()};v.bind(y.getDoc(),"mousedown",u);v.bind(y.getDoc(),"keydown",u);if(tinymce.isGecko){r=y.selection.getRng(true);if(r.startContainer==r.endContainer&&r.startContainer.nodeType==3){nodes=v.select("p,h1,h2,h3,h4,h5,h6,pre",t);if(nodes.length==1){v.remove(nodes.reverse(),true)}}}w=y.selection.getRng();t=t.firstChild;r=y.getDoc().createRange();r.setStart(t,0);r.setEnd(t,1);s.setRng(r);window.setTimeout(function(){var C="",B=v.select("div.mcePaste");p.each(B,function(E){var D=E.firstChild;if(D&&D.nodeName=="DIV"&&D.style.marginTop&&D.style.backgroundColor){v.remove(D,1)}p.each(v.select("div.mcePaste",E),function(F){v.remove(F,1)});p.each(v.select("span.Apple-style-span",E),function(F){v.remove(F,1)});p.each(v.select("br[_mce_bogus]",E),function(F){v.remove(F)});C+=E.innerHTML});p.each(B,function(D){v.remove(D)});if(w){s.setRng(w)}if(C.charCodeAt(C.length-1)===65279){C=C.substring(0,C.length-1)}A(C);v.unbind(y.getDoc(),"mousedown",u);v.unbind(y.getDoc(),"keydown",u)},0)}};var m=function(q,r){return function(s){n(q,r,s)}};var l=function(q,r){return function(s){}};return{getOnPasteFunction:m,getOnKeyDownFunction:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.tinymce.Settings",[],function(){var m={strip_class_attributes:"all",retain_style_properties:"none"};var l={strip_class_attributes:"none",retain_style_properties:"valid"};var p={strip_class_attributes:"none",retain_style_properties:"none"};var o=function(q,r){if(q&&typeof(q)!="string"){return q}switch(q){case"clean":return m;case"inline_styles":return l;case"classes":return p;default:return r}};var n=function(u,r){var q=o(u,m);var s=o(r,l);var w=s;var v=function(x){w=x?q:s};var t=function(x){return w[x]};return{setWordContent:v,get:t}};return{create:n}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.Insert",[],function(){var l=function(r,q){var t=q.getDoc(),o,p="ephoxInsertMarker",u=q.selection,n=q.dom;u.setContent('<span id="'+p+'">&nbsp;</span>');o=n.get(p);var m=t.createDocumentFragment();while(r.firstChild&&!n.isBlock(r.firstChild)){m.appendChild(r.firstChild)}var s=t.createDocumentFragment();while(r.lastChild&&!n.isBlock(r.lastChild)){s.appendChild(r.lastChild)}o.parentNode.insertBefore(m,o);n.insertAfter(s,o);if(r.firstChild){if(n.isBlock(r.firstChild)){while(!n.isBlock(o.parentNode)&&o.parentNode!==n.getRoot()){o=n.split(o.parentNode,o)}if(!n.is(o.parentNode,"td,th")&&o.parentNode!==n.getRoot()){o=n.split(o.parentNode,o)}}n.replace(r,o)}else{n.remove(o)}};return{insert:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.tokens.Attributes",["ephox.powerpaste.tinymce.Util"],function(o){var m=function(p){return p.specified!==false||(p.nodeName==="name"&&p.nodeValue!=="")};var l=function(q,p){if(!q||!p){return q||p}return function(r,s){return p(r,q(r,s))}};var n=function(t){var p=0;var w;var v=function(){return w};var y;var A=function(){return y()};y=function(){w={};p=0;o.each(t.attributes,function(B){var C=B.nodeName,D=B.nodeValue;if(m(B)){if(D!==null&&D!==undefined){w[C]=D;p++}}});if(w.style===undefined&&t.style.cssText){w.style=t.style.cssText;p++}y=v;return w};var x=function(){y();return p};var r;var u;var q=function(B){if(!r){u=y}r=l(r,B);y=function(){y=u;z(function(C,D){var E=r(C,D);if(E===null){if(C==="class"){t.className=""}else{t.removeAttribute(C,2)}delete w[C];p--}else{if(E!==D){if(C==="class"){t.className=E}else{t.setAttribute(C,E)}w[C]=E}}});y=v;return w}};var s=function(B){return y()[B]};var z=function(B){o.each(y(),function(D,C){B(C,D)})};return{get:s,each:z,filter:q,getAttributes:A,getAttributeCount:x}};return{manager:n}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.tokens.Token",["ephox.powerpaste.data.tokens.Attributes","ephox.powerpaste.tinymce.Util"],function(x,n,t){var o="startElement";var A="endElement";var u="text";var r="comment";var l=x.manager;var y=function(D){return D.replace(/-(.)/g,function(F,E){return E.toUpperCase()})};var B=function(D){return D.replace(/([A-Z])/g,function(F,E){return"-"+E.toLowerCase()})};var m=false;var C=function(H,K,J){var F,D=H.style.length,E,I,G;G=K||H.getAttribute("style");if(G===undefined||G===null||!G.split){G=H.style.cssText}n.each(G.split(";"),function(M){var L=M.indexOf(":");if(L>0){E=n.trim(M.substring(0,L));if(E.toUpperCase()===E){E=E.toLowerCase()}E=B(E);I=n.trim(M.substring(L+1));if(!m){m=E.indexOf("mso-")===0}J(E,I)}});if(!m){I=H.style["mso-list"];if(I){J("mso-list",I)}}};var p=function(Q,O,V){var X;var E;var J;var W;var U;switch(Q.nodeType){case 1:if(O){X=A}else{X=o;W=l(Q);U={};C(Q,V,function(Z,aa){U[Z]=aa})}if(Q.scopeName!=="HTML"&&Q.scopeName&&Q.tagName&&Q.tagName.indexOf(":")<=0){E=(Q.scopeName+":"+Q.tagName).toUpperCase()}else{E=Q.tagName}break;case 3:X=u;J=Q.nodeValue;break;case 8:X=r;J=Q.nodeValue;break;default:n.log("WARNING: Unsupported node type encountered: "+Q.nodeType);break}var H=function(){if(W){W.getAttributes()}return Q};var Y=function(){return E};var G=function(){return X};var N=function(){return J};var R=function(){return"Type: "+X+", Tag: "+E+" Text: "+J};var T=function(Z){return W.get(Z.toLowerCase())};var P=function(Z){if(X===o){W.filter(Z)}};var F=function(aa){if(G()===o){var Z="";n.each(U,function(ac,ab){var ad=aa(ab,ac);if(ad===null){if(Q.style.removeProperty){Q.style.removeProperty(y(ab))}else{Q.style.removeAttribute(y(ab))}delete U[ab]}else{Z+=ab+": "+ad+"; ";U[ab]=ad}});Z=Z?Z:null;P(function(ab,ac){if(ab==="style"){return Z}return ac});Q.style.cssText=Z}};var D=function(){return W.getAttributeCount()};var L=function(Z){W.each(Z)};var I=function(Z){return U[Z]};var M=function(Z){n.each(U,function(ab,aa){Z(aa,ab)})};var S=function(){return n.ephoxGetComputedStyle(Q)};var K=function(){return X===u&&/^[\s\u00A0]*$/.test(J)};return{getNode:H,tag:Y,type:G,text:N,toString:R,getAttribute:T,filterAttributes:P,filterStyles:F,getAttributeCount:D,attributes:L,getStyle:I,styles:M,getComputedStyle:S,isWhitespace:K}};var v=function(E,F,I,D){var H=D.createElement(E),G="";n.each(F,function(K,J){H.setAttribute(J,K)});n.each(I,function(K,J){G+=J+":"+K+";";H.style[y(J)]=K});return p(H,false,G!==""?G:null)};var q=function(E,D){return p(D.createElement(E),true)};var w=function(E,D){return p(D.createComment(E),false)};var z=function(E,D){return p(D.createTextNode(E))};var s=q("HTML",window.document);return{START_ELEMENT_TYPE:o,END_ELEMENT_TYPE:A,TEXT_TYPE:u,COMMENT_TYPE:r,FINISHED:s,token:p,createStartElement:v,createEndElement:q,createComment:w,createText:z}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.tokens.Serializer",["ephox.powerpaste.data.tokens.Token"],function(m){var l=function(o){var r=o.createDocumentFragment();var t=r;var q=function(u){n(u);r=u};var p=function(){r=r.parentNode};var n=function(u){r.appendChild(u)};var s=function(u){var v=function(x){var y=x.getNode().cloneNode(false);q(y)};var w=function(x,y){var z=o.createTextNode(x.text());n(z)};switch(u.type()){case m.START_ELEMENT_TYPE:v(u);break;case m.TEXT_TYPE:w(u);break;case m.END_ELEMENT_TYPE:p();break;case m.COMMENT_TYPE:break;default:throw {message:"Unsupported token type: "+u.type()}}};return{dom:t,receive:s}};return{create:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.tokens.Tokenizer",["ephox.powerpaste.data.tokens.Token"],function(m){var l=function(r,o){var p;o=o||window.document;p=o.createElement("div");o.body.appendChild(p);p.style.position="absolute";p.style.left="-10000px";p.innerHTML=r;nextNode=p.firstChild||m.FINISHED;var t=[];endNode=false;var q=function(v,u){if(v===m.FINISHED){return v}else{if(v){return m.token(v,u)}else{return undefined}}};var s=function(){var u=nextNode;var v=endNode;if(!endNode&&nextNode.firstChild){t.push(nextNode);nextNode=nextNode.firstChild}else{if(!endNode&&nextNode.nodeType===1){endNode=true}else{if(nextNode.nextSibling){nextNode=nextNode.nextSibling;endNode=false}else{nextNode=t.pop();endNode=true}}}if(u!==m.FINISHED&&!nextNode){o.body.removeChild(p);nextNode=m.FINISHED}return q(u,v)};var n=function(){return nextNode!==undefined};return{hasNext:n,next:s}};return{tokenize:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.tokens.Filter",["ephox.powerpaste.data.tokens.Token","ephox.powerpaste.tinymce.Util"],function(o,n){var l=function(q,r){var p=function(J,G,B){var K;var E,s,I=false;var H=function(){if(r){r(y)}I=false;E=[];s=[]};var v=function(L){n.each(L,function(M){J.receive(M)})};var A=function(L){if(I){s.push(L)}else{J.receive(L)}};var D=function(L){if(r){E.push(L)}q(y,L);if(L===o.FINISHED){x()}};var C=function(){I=true};var w=function(){v(E);H()};var x=function(){z();v(s);H()};var u=function(L){K=K||[];K.push(L)};var t=function(){return K&&K.length>0};var z=function(){n.each(K,function(L){A(L)});F()};var F=function(){K=[]};var y={document:B||window.document,settings:G||{},emit:A,receive:D,startTransaction:C,rollback:w,commit:x,defer:u,hasDeferred:t,emitDeferred:z,dropDeferred:F};H();return y};return p};var m=function(p){return l(function(r,q){q.filterAttributes(n.bind(p,r));r.emit(q)})};return{createFilter:l,createAttributeFilter:m}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.Text",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Token"],function(l,q){var n=/^(P|H[1-6]|T[DH]|LI|DIV|BLOCKQUOTE|PRE|ADDRESS|FIELDSET|DD|DT|CENTER)$/;var o=function(r){return n.test(r.tag())};var p=function(){return null};var m=false;return l.createFilter(function(s,r){var t=function(){if(!m){s.emit(q.createStartElement("P",{},{},s.document));m=true}};switch(r.type()){case q.TEXT_TYPE:t();s.emit(r);break;case q.END_ELEMENT_TYPE:if(m&&(o(r)||r===q.FINISHED)){s.emit(q.createEndElement("P",s.document));m=false}else{if(r.tag()==="BR"){s.emit(r)}}break;case q.START_ELEMENT_TYPE:if(r.tag()==="BR"){r.filterAttributes(p);r.filterStyles(p);s.emit(r)}else{if(r.tag()==="IMG"&&r.getAttribute("alt")){t();s.emit(q.createText(r.getAttribute("alt"),s.document))}}break}if(r===q.FINISHED){s.emit(r)}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.data.tokens.Helper",["ephox.powerpaste.data.tokens.Token"],function(q){var p=function(){if(navigator.userAgent.indexOf("Gecko")>0&&navigator.userAgent.indexOf("WebKit")<0){return false}var s=document.createElement("div");try{s.innerHTML='<p style="mso-list: Ignore;">&nbsp;</p>'}catch(r){return false}return q.token(s.firstChild).getStyle("mso-list")==="Ignore"};var m=p();var n=function(r){return r.tag()==="A"||r.tag()==="SPAN"};var l=function(r){var s=r.getStyle("mso-list");return s&&s!=="skip"};var o=function(r,s){if(r.type()===q.START_ELEMENT_TYPE){return r.getAttributeCount()===0||(s&&r.getAttributeCount()===1&&r.getAttribute("style")!=null)}else{return r.type()===q.END_ELEMENT_TYPE}};return{hasNoAttributes:o,supportsCustomStyles:m,spanOrA:n,hasMsoListStyle:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.list.ListTypes",["ephox.powerpaste.data.tokens.Token","ephox.powerpaste.tinymce.Util"],function(l,q){var r=[{regex:/^\(?[dc][\.\)]$/,type:{tag:"OL",type:"lower-alpha"}},{regex:/^\(?[DC][\.\)]$/,type:{tag:"OL",type:"upper-alpha"}},{regex:/^\(?M*(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})[\.\)]$/,type:{tag:"OL",type:"upper-roman"}},{regex:/^\(?m*(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3})[\.\)]$/,type:{tag:"OL",type:"lower-roman"}},{regex:/^\(?[0-9]+[\.\)]$/,type:{tag:"OL"}},{regex:/^([0-9]+\.)*[0-9]+\.?$/,type:{tag:"OL",variant:"outline"}},{regex:/^\(?[a-z]+[\.\)]$/,type:{tag:"OL",type:"lower-alpha"}},{regex:/^\(?[A-Z]+[\.\)]$/,type:{tag:"OL",type:"upper-alpha"}}];var s={"\u2022":{tag:"UL",type:"disc"},"\u00B7":{tag:"UL",type:"disc"},"\u00A7":{tag:"UL",type:"square"}};var p={o:{tag:"UL",type:"circle"},"-":{tag:"UL",type:"disc"},"\u25CF":{tag:"UL",type:"disc"}};var m=function(w,v){var u={tag:w.tag,type:w.type,variant:v};if(w.start){u.start=w.start}if(!w.type){delete u.type}return u};var n=function(A,u,z){var x=null,y,w,v;if(A){y=A.text;w=A.symbolFont}y=q.trim(y);x=p[y];if(!x){if(w){x=s[y];if(!x){x={tag:"UL",variant:y}}else{x=m(x,y)}}else{q.each(r,function(B){if(B.regex.test(y)){if(u&&t(B.type,u,true)){x=B.type;x.start=parseInt(y);return false}if(!x){x=B.type}x.start=parseInt(y)}});if(x&&!x.variant){if(y.charAt(0)==="("){v="()"}else{if(y.charAt(y.length-1)===")"){v=")"}else{v="."}}x=m(x,v)}}}else{x=m(x,y)}if(x&&x.tag==="OL"&&z&&(z.tag()!=="P"||/^MsoHeading/.test(z.getAttribute("class")))){x=null}return x};var t=function(v,u,w){return v===u||(v&&u&&v.tag===u.tag&&v.type===u.type&&(w||v.variant===u.variant))};var o=function(u,v){if(u.type()==l.START_ELEMENT_TYPE){font=u.getStyle("font-family");if(font){v=(font==="Wingdings"||font==="Symbol")}else{if(/^(P|H[1-6]|DIV)$/.test(u.tag())){v=false}}}return v};return{guessListType:n,eqListType:t,checkFont:o}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.list.CommentHeuristics",["ephox.powerpaste.data.tokens.Token","ephox.powerpaste.filters.list.ListTypes","ephox.powerpaste.tinymce.Util"],function(l,o,r){var t=function(x,u){var v,C,w,y=false,B,A;var z=function(E){var D=E.style.fontFamily;if(D){y=(D==="Wingdings"||D==="Symbol")}};if(x.type()===l.START_ELEMENT_TYPE&&u.openedTag&&x.tag()==="SPAN"){w=u.openedTag.getNode();z(w);if(w.childNodes.length>1&&w.firstChild.tagName==="A"&&w.firstChild.textContent===""){w=w.childNodes[1]}while(w.firstChild&&(w.firstChild.tagName==="SPAN"||w.firstChild.tagName==="A")){w=w.firstChild;z(w)}w=w.firstChild;if(w&&w.nodeType===3){B=w.nodeValue;if(!r.trim(B)){w=w.parentNode.nextSibling;B=w?w.nodeValue:""}if(!w||r.trim(w.parentNode.textContent)!=B){return false}A=o.guessListType({text:B,symbolFont:y},null,u.originalToken);if(A){return w.nextSibling&&w.nextSibling.tagName==="SPAN"&&/^[\u00A0\s]/.test(w.nextSibling.firstChild.nodeValue)&&(u.openedTag.tag()==="P"||A.tag==="UL")}}else{return w&&w.tagName==="IMG"}}return false};var p=function(v,y){var u,x,w=0;u=v.parentNode;while(u!=null&&u!=y.parentNode){w+=u.offsetLeft;u=u.offsetParent}return w};var q=function(v){var u={};return function(z,y){var w,x=z+","+y;if(u.hasOwnProperty(x)){return u[x]}w=v.call(null,z,y);u[x]=w;return w}};var m=q(function(x,z){var w,A=/([^{]+){([^}]+)}/g,v,y,u;A.lastIndex=0;while((w=A.exec(x))!=null&&!v){r.each(w[1].split(","),function(B){var C=B.indexOf(".");if(C>=0&&r.trim(B.substring(C+1))===z){v=w[2];return false}})}if(v){y=document.createElement("p");y.setAttribute("style",v);u=r.ephoxGetComputedStyle(y);return u?""+u.marginLeft:false}return false});var n=function(){var v;var u;var w=function(y,z,B,C){var x,E,A,D=1;if(C&&/^([0-9]+\.)+[0-9]+\.?$/.test(C.text)){return C.text.replace(/([0-9]+|\.$)/g,"").length+1}x=u||parseInt(m(B,z.getAttribute("class")));E=p(y.getNode(),z.getNode());if(!x){x=48}else{if(v){E+=v}else{if(E===0){v=x;E+=x}}}u=x=Math.min(E,x);D=Math.max(1,Math.floor(E/x))||1;return D};return{guessIndentLevel:w}};var s=function(){var v=false;var w="";var u=function(x){if(v&&x.type()===l.TEXT_TYPE){w+=x.text();return true}else{if(x.type()===l.START_ELEMENT_TYPE&&x.tag()==="STYLE"){v=true;return true}else{if(x.type()===l.END_ELEMENT_TYPE&&x.tag()==="STYLE"){v=false;return true}}}return false};return{check:u}};return{isListWithoutCommentsOrStyles:t,indentGuesser:n,styles:s}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.list.Emitter",["ephox.powerpaste.data.tokens.Token","ephox.powerpaste.filters.list.ListTypes"],function(o,m){var n=["disc","circle","square"];var l=function(p,q){if(p.tag==="UL"){if(n[q-1]===p.type){p={tag:"UL"}}}return p};return function(y,A){var t=[];var C=[];var r=0;var z;var s=function(G,D){var F={},E={};r++;if(D){if(G.type){F={"list-style-type":G.type}}}if(G.start&&G.start>1){E={start:G.start}}t.push(G);y.emit(o.createStartElement(G.tag,E,F,A));z=G};var q=function(){y.emit(o.createEndElement(t.pop().tag,A));r--;z=t[t.length-1]};var p=function(){while(r>0){v();q()}y.commit()};var v=function(){var D=C?C.pop():"P";if(D!="P"){y.emit(o.createEndElement(D,A))}y.emit(o.createEndElement("LI",A))};var u=function(D,H,G){var F={};if(!D){F["list-style-type"]="none"}else{var E=D.getStyle("margin-left");if(E!==undefined){F["margin-left"]=E}}if(z&&!m.eqListType(z,H)){q();if(G){y.emit(o.createStartElement("P",{},{},A));y.emit(o.createText("\u00A0",A));y.emit(o.createEndElement("P",A))}s(H,true)}y.emit(o.createStartElement("LI",{},F,A));if(D&&D.tag()!="P"){C.push(D.tag());D.filterStyles(function(){return null});y.emit(D)}else{C.push("P")}};var x=function(I,D,H,G){var F={},E;if(!H){return}if(!r){r=0}while(r>I){v();q()}H=l(H,I);if(r==I){v();u(D,H,G)}else{if(I>1&&C.length>0&&C[C.length-1]!=="P"){y.emit(o.createEndElement(C[C.length-1],A));C[C.length-1]="P"}while(r<I){s(H,r==I-1);u(r==I?D:undefined,H)}}};var B=function(){return r};var w=function(){return z};return{openList:s,closelist:q,closeAllLists:p,closeItem:v,openLI:u,openItem:x,getCurrentListType:w,getCurrentLevel:B}}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.list.ListStates",["ephox.powerpaste.data.tokens.Helper","ephox.powerpaste.data.tokens.Token","ephox.powerpaste.filters.list.CommentHeuristics","ephox.powerpaste.filters.list.ListTypes","ephox.powerpaste.tinymce.Util"],function(C,x,s,u,o){var m=function(F,E){o.log("Unexpected token in list conversion: "+E.toString());F.rollback()};var z=function(F,G,E){if(G==E){return F}return null};var v=function(F,G,E){if(E.type()===x.TEXT_TYPE&&o.trim(E.text())===""){F.defer(E)}else{if(!G.skippedPara&&E.type()===x.START_ELEMENT_TYPE&&E.tag()==="P"&&!C.hasMsoListStyle(E)){G.openedTag=E;F.defer(E);G.nextFilter=p}else{A(F,G,E)}}};var p=function(F,G,E){if(E.type()===x.START_ELEMENT_TYPE&&E.tag()==="SPAN"&&G.spanCount.length===0&&(C.supportsCustomStyles||!s.isListWithoutCommentsOrStyles(E,G))&&!C.hasMsoListStyle(E)){F.defer(E);G.spanCount.push(E)}else{if(E.type()===x.END_ELEMENT_TYPE){if(E.tag()==="SPAN"){F.defer(E);G.spanCount.pop()}else{if(E.tag()==="P"){F.defer(E);G.skippedPara=true;G.openedTag=null;G.nextFilter=v}else{G.nextFilter=A;G.nextFilter(F,G,E)}}}else{if(E.isWhitespace()){F.defer(E)}else{G.nextFilter=A;G.nextFilter(F,G,E)}}}};var w=function(F,G,E){if(E.type()===x.END_ELEMENT_TYPE&&E.tag()===G.originalToken.tag()){G.nextFilter=v}else{if(E===x.FINISHED){G.emitter.closeAllLists();F.emit(E)}}};var A=function(H,J,G){var F=function(){J.emitter.closeAllLists();H.emitDeferred();J.openedTag=null;H.emit(G);J.nextFilter=A};if(G.type()===x.START_ELEMENT_TYPE&&C.hasMsoListStyle(G)&&G.tag()!=="LI"){var I=G.getStyle("mso-list");if(false&&I==="skip"){J.nextFilter=w;J.originalToken=G}else{var E=/ level([0-9]+)/.exec(G.getStyle("mso-list"));if(E&&E[1]){J.itemLevel=parseInt(E[1],10)+J.styleLevelAdjust;if(J.nextFilter===A){H.emitDeferred()}else{H.dropDeferred()}J.nextFilter=B;H.startTransaction();J.originalToken=G;J.commentMode=false}else{F()}}}else{if(!C.supportsCustomStyles&&((G.type()===x.COMMENT_TYPE&&G.text()==="[if !supportLists]")||(s.isListWithoutCommentsOrStyles(G,H)))){if(G.type()===x.START_ELEMENT_TYPE&&G.tag()==="SPAN"){J.spanCount.push(G)}J.nextFilter=B;H.startTransaction();J.originalToken=J.openedTag;J.commentMode=true;J.openedTag=null;H.dropDeferred()}else{if(G.type()===x.END_ELEMENT_TYPE&&C.spanOrA(G)){H.defer(G);J.spanCount.pop()}else{if(G.type()===x.START_ELEMENT_TYPE){if(C.spanOrA(G)){H.defer(G);J.spanCount.push(G)}else{if(J.openedTag){J.emitter.closeAllLists();H.emitDeferred()}J.openedTag=G;H.defer(G)}}else{F()}}}}};var r=function(F,G,E){if(E.type()===x.END_ELEMENT_TYPE&&G.originalToken.tag()===E.tag()){G.nextFilter=v;G.styleLevelAdjust=-1}F.emit(E)};var B=function(G,H,F){if(F.type()==x.START_ELEMENT_TYPE&&F.getStyle("mso-list")==="Ignore"){H.nextFilter=D}if(F.type()===x.START_ELEMENT_TYPE&&F.tag()==="SPAN"){H.spanCount.push(F);if(H.commentMode&&F.getAttribute("style")===""||F.getAttribute("style")===null){H.nextFilter=D}}else{if(F.tag()==="A"){if(F.type()===x.START_ELEMENT_TYPE){H.spanCount.push(F)}else{H.spanCount.pop()}}else{if(F.type()===x.TEXT_TYPE){if(H.commentMode){H.nextFilter=D;H.nextFilter(G,H,F)}else{var I=H.originalToken;var E=H.spanCount;H.emitter.closeAllLists();G.emit(I);o.each(E,o.bind(G.emit,G));G.emit(F);G.commit();H.originalToken=I;H.nextFilter=r}}else{if(!H.commentMode&&F.type()===x.COMMENT_TYPE){}else{m(G,F)}}}}};var D=function(F,G,E){if(E.type()===x.TEXT_TYPE){if(E.isWhitespace()){}else{G.nextFilter=t;G.bulletInfo={text:E.text(),symbolFont:G.symbolFont}}}else{if(C.spanOrA(E)){if(E.type()===x.START_ELEMENT_TYPE){G.spanCount.push(E)}else{G.spanCount.pop()}}else{if(E.type()===x.START_ELEMENT_TYPE&&E.tag()==="IMG"){G.nextFilter=t;G.bulletInfo={text:"\u2202",symbolFont:true}}else{m(F,E)}}}};var t=function(F,G,E){if(E.type()===x.START_ELEMENT_TYPE&&C.spanOrA(E)){G.spanCount.push(E);G.nextFilter=q}else{if(E.type()===x.END_ELEMENT_TYPE&&C.spanOrA(E)){G.spanCount.pop();G.nextFilter=y}else{if(E.type()===x.END_ELEMENT_TYPE&&E.tag()==="IMG"){}else{m(F,E)}}}};var q=function(F,G,E){if(E.type()===x.END_ELEMENT_TYPE){if(C.spanOrA(E)){G.spanCount.pop()}G.nextFilter=y}};var y=function(F,G,E){var H=function(I){G.nextFilter=n;if(G.commentMode){G.itemLevel=G.indentGuesser.guessIndentLevel(E,G.originalToken,G.styles.styles,G.bulletInfo)}G.listType=u.guessListType(G.bulletInfo,z(G.emitter.getCurrentListType(),G.emitter.getCurrentLevel(),G.itemLevel),G.originalToken);if(G.listType){G.emitter.openItem(G.itemLevel,G.originalToken,G.listType,G.skippedPara);F.emitDeferred();while(G.spanCount.length>0){F.emit(G.spanCount.shift())}if(I){F.emit(E)}}else{o.log("Unknown list type: "+G.bulletInfo.text+" Symbol font? "+G.bulletInfo.symbolFont);F.rollback()}};if(E.type()===x.TEXT_TYPE||E.type()===x.START_ELEMENT_TYPE){H(true)}else{if(E.type()===x.COMMENT_TYPE){H(E.text()!=="[endif]")}else{if(E.type()===x.END_ELEMENT_TYPE){if(C.spanOrA(E)){G.spanCount.pop()}}else{m(F,E)}}}};var n=function(F,G,E){if(E.type()===x.END_ELEMENT_TYPE&&E.tag()===G.originalToken.tag()){G.nextFilter=v;G.skippedPara=false}else{F.emit(E)}};var l=A;return{initial:l}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.list.Lists",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Helper","ephox.powerpaste.data.tokens.Token","ephox.powerpaste.filters.list.CommentHeuristics","ephox.powerpaste.filters.list.Emitter","ephox.powerpaste.filters.list.ListStates","ephox.powerpaste.filters.list.ListTypes","ephox.powerpaste.tinymce.Util"],function(n,u,l,s,v,o,r,w){var t={};var m=function(x){t.nextFilter=o.initial;t.itemLevel=0;t.originalToken=null;t.commentMode=false;t.openedTag=null;t.symbolFont=false;t.listType=null;t.indentGuesser=s.indentGuesser();t.emitter=v(x,x.document);t.styles=s.styles();t.spanCount=[];t.skippedPara=false;t.styleLevelAdjust=0;t.bulletInfo=undefined};m({});var p=function(x){m(x)};var q=function(y,x){if(t.styles.check(x)){return}t.symbolFont=r.checkFont(x,t.symbolFont);t.nextFilter(y,t,x)};return n.createFilter(q,p)})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.FilterInlineStyles",["ephox.powerpaste.data.tokens.Filter"],function(l){var m=/^(mso-.*|tab-stops|tab-interval|language|text-underline|text-effect|text-line-through|font-color|horiz-align|list-image-[0-9]+|separator-image|table-border-color-(dark|light)|vert-align|vnd\..*)$/;var n=function(o){return function(p,r){var q=false;switch(o){case"all":case"*":q=true;break;case"valid":q=!m.test(p);break;case undefined:case"none":q=p==="list-style-type";break;default:q=(","+o+",").indexOf(","+p+",")>=0;break}return q?r:null}};return l.createFilter(function(q,p){var o=q.settings.get("retain_style_properties");p.filterStyles(n(o));q.emit(p)})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.InferListTags",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Token"],function(l,m){return l.createFilter(function(o,n){if(o.seenList){o.emit(n)}else{if(o.inferring){if(n.tag()==="LI"){if(n.type()===m.START_ELEMENT_TYPE){o.inferring++}else{o.inferring--;if(!o.inferring){o.needsClosing=true}}}o.emit(n)}else{if(n.tag()==="OL"||n.tag()==="UL"){o.seenList=true}else{if(n.tag()==="LI"){o.inferring=1;if(!o.needsClosing){o.emit(m.createStartElement("UL",{},{},o.document))}}}if(o.needsClosing&&!o.inferring&&!n.isWhitespace()){o.needsClosing=false;o.emit(m.createEndElement("UL",o.document))}o.emit(n)}}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripBookmarks",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){if(m==="name"||m==="id"){return null}return n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripClassAttributes",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){var o;if(m==="class"){o=this.settings.get("strip_class_attributes");switch(o){case"mso":return n.indexOf("Mso")===0?null:n;case"none":return n;default:return null}}return n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripEmptyInlineElements",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Helper","ephox.powerpaste.data.tokens.Token"],function(n,p,m){var t=[];var q=[];var o=false;var r=function(u,y){var v,w,x=1;for(v=y+1;v<u;v++){w=t[v];if(w&&w.tag()==="SPAN"){if(w.type()===m.START_ELEMENT_TYPE){x++}else{if(w.type()===m.END_ELEMENT_TYPE){x--;if(x===0){t[v]=null;return}}}}}};var s=function(x){if(o){var v,u=t.length,w;for(w=0;w<u;w++){v=t[w];if(!v){continue}if(v.type()===m.START_ELEMENT_TYPE&&v.tag()==="SPAN"&&p.hasNoAttributes(v)){r(u,w)}else{x.emit(v)}}}t=[];q=[];o=false};var l=function(v,u){t.push(u);q=q||[];if(u.type()===m.START_ELEMENT_TYPE){q.push(u)}else{if(u.type()===m.END_ELEMENT_TYPE){q.pop();if(q.length===0){s(v,u);return}}}};return n.createFilter(function(w,v){var x=",FONT,EM,STRONG,SAMP,ACRONYM,CITE,CODE,DFN,KBD,TT,B,I,U,S,SUB,SUP,INS,DEL,VAR,SPAN,";t=t||[];var u=function(y){return !(x.indexOf(","+y.tag()+",")>=0&&p.hasNoAttributes(y,true))};if(t.length===0){if(v.type()===m.START_ELEMENT_TYPE){if(u(v)){w.emit(v)}else{l(w,v)}}else{w.emit(v)}}else{if(!o){o=u(v)}l(w,v)}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripEmptyStyleAttributes",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){if(m==="style"&&n===""){return null}return n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripLangAttribute",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){return m==="lang"?null:n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripLocalImages",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Token"],function(l,m){return l.createFilter(function(o,n){if(n.tag()==="IMG"){if(n.type()===m.END_ELEMENT_TYPE&&o.skipEnd){o.skipEnd=false;return}else{if(n.type()===m.START_ELEMENT_TYPE&&/^file:/.test(n.getAttribute("src"))){o.skipEnd=true;return}}}o.emit(n)})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripMetaAndLinkElements",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createFilter(function(n,m){if(m.tag()!=="META"&&m.tag()!=="LINK"){n.emit(m)}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripNoAttributeA",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Helper","ephox.powerpaste.data.tokens.Token"],function(m,o,p){var n=function(q){return !o.hasNoAttributes(q)&&!/^OLE_LINK/.test(q.getAttribute("name"))};var l=[];return m.createFilter(function(s,r){var q;if(r.type()===p.START_ELEMENT_TYPE&&r.tag()==="A"){l.push(r);if(n(r)){s.defer(r)}}else{if(r.type()===p.END_ELEMENT_TYPE&&r.tag()==="A"){q=l.pop();if(n(q)){s.defer(r)}if(l.length===0){s.emitDeferred()}}else{if(s.hasDeferred()){s.defer(r)}else{s.emit(r)}}}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripScripts",["ephox.powerpaste.data.tokens.Filter","ephox.powerpaste.data.tokens.Token"],function(m,n){var l=false;return m.createFilter(function(p,o){if(o.tag()==="SCRIPT"){l=o.type()===n.START_ELEMENT_TYPE}else{if(!l){o.filterAttributes(function(q,r){if(/^on/.test(q)||q==="language"){return null}return r});p.emit(o)}}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.wordimport.CommonFilters",["ephox.powerpaste.filters.FilterInlineStyles","ephox.powerpaste.filters.InferListTags","ephox.powerpaste.filters.StripBookmarks","ephox.powerpaste.filters.StripClassAttributes","ephox.powerpaste.filters.StripEmptyInlineElements","ephox.powerpaste.filters.StripEmptyStyleAttributes","ephox.powerpaste.filters.StripLangAttribute","ephox.powerpaste.filters.StripLocalImages","ephox.powerpaste.filters.StripMetaAndLinkElements","ephox.powerpaste.filters.StripNoAttributeA","ephox.powerpaste.filters.StripScripts"],function(l,u,o,v,m,n,r,t,s,p,q){return[q,o,t,l,r,n,v,p,m,s,u]})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripFormattingAttributes",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createFilter(function(n,m){m.filterAttributes(function(o,p){if(o==="align"){return null}if((m.tag()==="UL"||m.tag()==="OL")&&o==="type"){return null}return p});n.emit(m)})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripNamespaceDeclarations",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){if(/^xmlns(:|$)/.test(m)){return null}return n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripOPTags",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createFilter(function(n,m){if(!m.tag||!/^([OVWXP]|U[0-9]+|ST[0-9]+):/.test(m.tag())){n.emit(m)}})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripTocLinks",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){if(m==="href"&&(n.indexOf("#_Toc")>=0||n.indexOf("#_mso")>=0)){return null}return n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.filters.StripVMLAttributes",["ephox.powerpaste.data.tokens.Filter"],function(l){return l.createAttributeFilter(function(m,n){if(/^v:/.test(m)){return null}return n})})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.wordimport.WordOnlyFilters",["ephox.powerpaste.filters.StripFormattingAttributes","ephox.powerpaste.filters.StripNamespaceDeclarations","ephox.powerpaste.filters.StripOPTags","ephox.powerpaste.filters.StripTocLinks","ephox.powerpaste.filters.StripVMLAttributes","ephox.powerpaste.filters.list.Lists"],function(q,p,m,l,o,n){return[m,n,l,o,p,q]})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.wordimport.WordImport",["ephox.powerpaste.data.tokens.Serializer","ephox.powerpaste.data.tokens.Tokenizer","ephox.powerpaste.filters.Text","ephox.powerpaste.filters.list.Lists","ephox.powerpaste.wordimport.CommonFilters","ephox.powerpaste.wordimport.WordOnlyFilters"],function(s,t,o,r,p,q){var n=function(A,B,z,w){var x,y=B;for(x=A.length-1;x>=0;x--){y=A[x](y,z,w)}return y};var l=function(B,A,w,x){var z=s.create(w);var y=t.tokenize(B,w);pipeline=n(x,z,A,w);while(y.hasNext()){pipeline.receive(y.next())}return z.dom};var m=function(z,y,w){var A=u(z);y.setWordContent(A);var x=p;if(A){x=q.concat(p)}return l(z,y,w,x)};var v=function(y,x,w){return l(y,x,w,[o])};var u=function(w){return w.indexOf("<o:p>")>=0||w.indexOf("p.MsoNormal, li.MsoNormal, div.MsoNormal")>=0||w.indexOf("MsoListParagraphCxSpFirst")>=0||w.indexOf("<w:WordDocument>")>=0};return{filter:m,filterPlainText:v,isWordContent:u}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.PastePlugin",["ephox.powerpaste.data.Insert","ephox.powerpaste.tinymce.Settings","ephox.powerpaste.tinymce.Clipboard","ephox.powerpaste.wordimport.WordImport"],function(n,m,o,l){return{init:function(r,s){var u=this;var q=function(w){var x={content:w};u.onPreProcess.dispatch(u,x);var v=m.create(r.getParam("powerpaste_word_import"),r.getParam("powerpaste_html_import"));var t;if(r.pasteAsPlainText){t=l.filterPlainText(x.content,v,r.getDoc());r.pasteAsPlainText=r.getParam("powerpaste_text_sticky")}else{t=l.filter(x.content,v,r.getDoc())}u.onPostProcess.dispatch(u,t);n.insert(t,r)};var p=function(t){return function(v,w){t(w)}};onPaste=o.getOnPasteFunction(r,q);r.onPaste.add(p(onPaste));onKeyDown=o.getOnKeyDownFunction(r,q);r.onKeyDown.add(p(onKeyDown));r.addCommand("mceInsertClipboardContent",function(v,t){q(t.content||t)});r.addCommand("mcePasteText",function(v,t){r.pasteAsPlainText=!r.pasteAsPlainText;r.controlManager.get("pastetext").setActive(r.pasteAsPlainText)});r.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"});this.onPreProcess=new tinymce.util.Dispatcher(this);this.onPostProcess=new tinymce.util.Dispatcher(this);this.onPreProcess.add(function(t,v){r.execCallback("paste_preprocess",t,v)});this.onPostProcess.add(function(v,t){r.execCallback("paste_postprocess",v,t)});if(r.getParam("powerpaste_block_drop")){r.onInit.add(function(t){t.dom.bind(t.getBody(),["drop","dragstart","dragend","dragover","dragenter","dragleave","dragdrop","draggesture"],function(v){return tinymce.dom.Event.cancel(v)})})}}}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);(function(k,j,i){k("ephox.powerpaste.PowerPaste",["ephox.powerpaste.PastePlugin"],function(n){var l=function(){return{longname:"powerpaste.name",author:"Ephox Corporation",authorurl:"http://tinymce.ephox.com",infourl:"http://tinymce.ephox.com",version:"1.0.1.4"}};var m={init:n.init,getInfo:l};return function(){tinymce.create("tinymce.ephox.plugins.PowerPaste",m);tinymce.PluginManager.add("powerpaste",tinymce.ephox.plugins.PowerPaste)}})})(h.bolt.module.api.define,h.bolt.module.api.require,h.bolt.module.api.demand);a("ephox.powerpaste.PowerPaste")();if(this.ephox){this.ephox.bolt=c}})();